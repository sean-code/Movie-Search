{"ast":null,"code":"import _objectSpread from\"/home/moringa/Development/code/phase_2/movie-search-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/moringa/Development/code/phase_2/movie-search-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from'react';import'./Feedback.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Feedback(){var url=\"https://gentle-coast-43368.herokuapp.com/feedback\";var _useState=useState({name:\"\",email:\"\",phonenumber:\"\",message:\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),validated=_useState4[0],setValidated=_useState4[1];// To validate the form\nvar formRef=useRef(null);var handleReset=function handleReset(){formRef.current.reset();setValidated(false);};function handle(event){var newdata=_objectSpread({},data);newdata[event.target.id]=event.target.value;setData(newdata);console.log(newdata);}var submit=function submit(event){event.preventDefault();//prevent page refresh\naxios.post(url,{name:data.name,email:data.email,phonenumber:data.phonenumber,message:data.message}).then(function(response){console.log(response.data);});setValidated(true);handleReset();};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"contact\",formRef:formRef,validated:validated,onSubmit:function onSubmit(event){return submit(event);},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Leave Me Your Feedback\"}),/*#__PURE__*/_jsx(\"fieldset\",{children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){return handle(event);},id:\"name\",value:data.name,placeholder:\"Your name\",type:\"text\",tabindex:\"1\",required:true,autofocus:true})}),/*#__PURE__*/_jsx(\"fieldset\",{children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){return handle(event);},id:\"email\",value:data.email,placeholder:\"Your Email Address\",type:\"email\",tabindex:\"2\",required:true})}),/*#__PURE__*/_jsx(\"fieldset\",{children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){return handle(event);},id:\"phonenumber\",value:data.phonenumber,placeholder:\"Your Phone Number (optional)\",type:\"tel\",tabindex:\"3\",required:true})}),/*#__PURE__*/_jsx(\"fieldset\",{children:/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(event){return handle(event);},id:\"message\",value:data.message,placeholder:\"Type your message here....\",tabindex:\"5\",required:true})}),/*#__PURE__*/_jsx(\"fieldset\",{children:/*#__PURE__*/_jsx(\"button\",{name:\"submit\",type:\"submit\",id:\"contact-submit\",\"data-submit\":\"...Sending\",children:\"Submit\"})})]})});}export default Feedback;","map":{"version":3,"names":["React","useRef","useState","axios","Feedback","url","name","email","phonenumber","message","data","setData","validated","setValidated","formRef","handleReset","current","reset","handle","event","newdata","target","id","value","console","log","submit","preventDefault","post","then","response"],"sources":["/home/moringa/Development/code/phase_2/movie-search-app/src/components/feedback/Feedback.js"],"sourcesContent":["\nimport React, {useRef, useState} from 'react';\nimport './Feedback.css';\nimport axios from 'axios';\n\nfunction Feedback(){\n    const url = \"https://gentle-coast-43368.herokuapp.com/feedback\"\n    const[data, setData] = useState({\n        name: \"\",\n        email: \"\",\n        phonenumber: \"\",\n        message: \"\"\n    })\n\n    const[validated, setValidated] = useState(); // To validate the form\n    const formRef = useRef(null);\n\n    const handleReset = () => {\n        formRef.current.reset();\n        setValidated(false);\n      };\n\n    function handle(event){\n        const newdata = {...data}\n        newdata[event.target.id] = event.target.value\n        setData(newdata)\n        console.log(newdata)\n    }\n\n    const submit = (event)=>{\n        event.preventDefault(); //prevent page refresh\n        axios.post(url, {\n            name: data.name,\n            email: data.email,\n            phonenumber: data.phonenumber,\n            message: data.message\n        })\n        .then(response=>{\n            console.log(response.data)\n        })\n\n        setValidated(true);\n        handleReset();\n\n    }\n\n\n    return(\n    <div className=\"container\"> \n        <form id=\"contact\" formRef={formRef}  validated={validated}  onSubmit={(event)=> submit(event)}>\n            <h3>Leave Me Your Feedback</h3>\n            <fieldset>\n                <input onChange ={(event)=>handle(event)} id=\"name\" value={data.name} placeholder=\"Your name\" type=\"text\" tabindex=\"1\" required autofocus />\n            </fieldset>\n            <fieldset>\n                <input onChange ={(event)=>handle(event)} id=\"email\" value={data.email}placeholder=\"Your Email Address\" type=\"email\" tabindex=\"2\" required />\n            </fieldset>\n            <fieldset>\n                <input onChange ={(event)=>handle(event)} id=\"phonenumber\" value={data.phonenumber} placeholder=\"Your Phone Number (optional)\" type=\"tel\" tabindex=\"3\" required />\n            </fieldset>\n            <fieldset>\n                <textarea onChange ={(event)=>handle(event)} id=\"message\" value={data.message} placeholder=\"Type your message here....\" tabindex=\"5\" required></textarea>\n            </fieldset>\n            <fieldset>\n                <button name=\"submit\" type=\"submit\" id=\"contact-submit\" data-submit=\"...Sending\">Submit</button>\n            </fieldset>\n        </form>\n    </div>\n    )\n}\n\nexport default Feedback;"],"mappings":"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"},"metadata":{},"sourceType":"module"}