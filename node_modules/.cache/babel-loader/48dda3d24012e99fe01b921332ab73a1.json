{"ast":null,"code":"import _slicedToArray from\"/home/moringa/Development/code/phase_2/movie-search-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./Search.css';import Header from'./Header';import Movie from'./Movie';import Search from'./Search';// const MOVIE_API_URL = \"https://www.omdbapi.com/?s=man&apikey=4a3b711b\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MOVIE_API_URL=\"http://www.omdbapi.com/?s=war&apikey=4a3b711b\";function MoviesAll(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),movies=_useState4[0],setMovies=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];useEffect(function(){fetch(MOVIE_API_URL).then(function(response){return response.json();}).then(function(jsonResponse){setMovies(jsonResponse.Search);setLoading(false);});},[]);var search=function search(searchValue){setLoading(true);setErrorMessage(null);fetch(\"https://www.omdbapi.com/?s=\".concat(searchValue,\"&apikey=6f97e522\")).then(function(response){return response.json();}).then(function(jsonResponse){if(jsonResponse.Response===\"True\"){setMovies(jsonResponse.Search);setLoading(false);}else{setErrorMessage(jsonResponse.Error);setLoading(false);}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{text:\"MOVIES\"}),/*#__PURE__*/_jsx(Search,{search:search}),/*#__PURE__*/_jsx(\"div\",{className:\"movies\",children:loading&&!errorMessage?/*#__PURE__*/_jsx(\"span\",{children:\"loading...\"}):errorMessage?/*#__PURE__*/_jsx(\"div\",{className:\"errorMessage\",children:errorMessage}):movies.map(function(movie,index){return/*#__PURE__*/_jsx(Movie,{movie:movie},\"\".concat(index,\"-\").concat(movie.Title));})})]});}export default MoviesAll;","map":{"version":3,"names":["React","useState","useEffect","Header","Movie","Search","MOVIE_API_URL","MoviesAll","loading","setLoading","movies","setMovies","errorMessage","setErrorMessage","fetch","then","response","json","jsonResponse","search","searchValue","Response","Error","map","movie","index","Title"],"sources":["/home/moringa/Development/code/phase_2/movie-search-app/src/components/search/MoviesAll.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './Search.css';\nimport Header from './Header';\nimport Movie from './Movie';\nimport Search from './Search';\n\n\n// const MOVIE_API_URL = \"https://www.omdbapi.com/?s=man&apikey=4a3b711b\";\n const MOVIE_API_URL = \"http://www.omdbapi.com/?s=war&apikey=4a3b711b\";\nfunction MoviesAll() {\n  const [loading, setLoading] = useState(true);\n  const [movies, setMovies] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    fetch(MOVIE_API_URL)\n      .then(response => response.json())\n      .then(jsonResponse => {\n        setMovies(jsonResponse.Search);\n        setLoading(false);\n      });\n  }, []);\n\n\n  const search = searchValue => {\n    setLoading(true);\n    setErrorMessage(null);\n\n    fetch(`https://www.omdbapi.com/?s=${searchValue}&apikey=6f97e522`)\n      .then(response => response.json())\n      .then(jsonResponse => {\n        if (jsonResponse.Response === \"True\") {\n          setMovies(jsonResponse.Search);\n          setLoading(false);\n        } else {\n          setErrorMessage(jsonResponse.Error);\n          setLoading(false);\n        }\n      });\n  }\n\n\n\n  return (\n    <div className=\"App\">\n      <Header text=\"MOVIES\" />\n      <Search search={search} />\n      \n      <div className=\"movies\">\n        {loading && !errorMessage ? (\n          <span>loading...</span>\n        ) : errorMessage ? (\n          <div className=\"errorMessage\">{errorMessage}</div>\n        ) : (\n          movies.map((movie, index) => (\n            <Movie key={`${index}-${movie.Title}`} movie={movie} />\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default MoviesAll;"],"mappings":"6IAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,cAAP,CACA,MAAOC,OAAP,KAAmB,UAAnB,CACA,MAAOC,MAAP,KAAkB,SAAlB,CACA,MAAOC,OAAP,KAAmB,UAAnB,CAGA;wFACC,GAAMC,cAAa,CAAG,+CAAtB,CACD,QAASC,UAAT,EAAqB,CACnB,cAA8BN,QAAQ,CAAC,IAAD,CAAtC,wCAAOO,OAAP,eAAgBC,UAAhB,eACA,eAA4BR,QAAQ,CAAC,EAAD,CAApC,yCAAOS,MAAP,eAAeC,SAAf,eACA,eAAwCV,QAAQ,CAAC,IAAD,CAAhD,yCAAOW,YAAP,eAAqBC,eAArB,eAEAX,SAAS,CAAC,UAAM,CACdY,KAAK,CAACR,aAAD,CAAL,CACGS,IADH,CACQ,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAT,EAAJ,EADhB,EAEGF,IAFH,CAEQ,SAAAG,YAAY,CAAI,CACpBP,SAAS,CAACO,YAAY,CAACb,MAAd,CAAT,CACAI,UAAU,CAAC,KAAD,CAAV,CACD,CALH,EAMD,CAPQ,CAON,EAPM,CAAT,CAUA,GAAMU,OAAM,CAAG,QAATA,OAAS,CAAAC,WAAW,CAAI,CAC5BX,UAAU,CAAC,IAAD,CAAV,CACAI,eAAe,CAAC,IAAD,CAAf,CAEAC,KAAK,sCAA+BM,WAA/B,qBAAL,CACGL,IADH,CACQ,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAT,EAAJ,EADhB,EAEGF,IAFH,CAEQ,SAAAG,YAAY,CAAI,CACpB,GAAIA,YAAY,CAACG,QAAb,GAA0B,MAA9B,CAAsC,CACpCV,SAAS,CAACO,YAAY,CAACb,MAAd,CAAT,CACAI,UAAU,CAAC,KAAD,CAAV,CACD,CAHD,IAGO,CACLI,eAAe,CAACK,YAAY,CAACI,KAAd,CAAf,CACAb,UAAU,CAAC,KAAD,CAAV,CACD,CACF,CAVH,EAWD,CAfD,CAmBA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,EADF,cAEE,KAAC,MAAD,EAAQ,MAAM,CAAEU,MAAhB,EAFF,cAIE,YAAK,SAAS,CAAC,QAAf,UACGX,OAAO,EAAI,CAACI,YAAZ,cACC,oCADD,CAEGA,YAAY,cACd,YAAK,SAAS,CAAC,cAAf,UAA+BA,YAA/B,EADc,CAGdF,MAAM,CAACa,GAAP,CAAW,SAACC,KAAD,CAAQC,KAAR,qBACT,KAAC,KAAD,EAAuC,KAAK,CAAED,KAA9C,YAAeC,KAAf,aAAwBD,KAAK,CAACE,KAA9B,EADS,EAAX,CANJ,EAJF,GADF,CAkBD,CAED,cAAenB,UAAf"},"metadata":{},"sourceType":"module"}